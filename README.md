# [개인 프로젝트] 호텔,리조트 홍보,예약 사이트 
 
> 자신의 숙박업소를 소개하고 예약을 받을 수 있는 웹사이트 입니다.

> Spring 기초를 다시 공부하면서 만들게 되었습니다.

> 2019-01-31 ~ 2019-02-09

> [데모사이트](http://ec2-13-209-68-44.ap-northeast-2.compute.amazonaws.com:8080/)

## 개발환경
* spring
* java
* javascript
* jquery
* jstl
* mysql
* mybatis
* css
* aws
* tomcat
## 주요기능
  * 고객센터 게시판 CRUD
  * 게시판 댓글 , 파일업로드
  * 회원가입
  * 로그인,ID 찾기
  * 비밀번호 암호화
  * xss 공격 방어
  * 객실 미리보기 (슬라이드 이미지)
  * 객실 예약 
  * 객실 예약내역 조회 및 취소
  * 객실 관리 자동화
    * spring task를 이용하여 매일 정각마다 DB room table의 지난날의 인덱스 정보를 31일 뒤로 변경합니다.
    * datepicker로 오늘 이전의 날의 예약제한을 겁니다.

## 추가할 기능
* 관리자 기능
  * 회원관리
  * 게시판관리
  * 사이트 정보 관리 (사진 및 이용약관 등)
  * 객실 , 결제 관리
* 고객정보 암호화
  * 현재는 비밀번호만 단방향 암호화를 진행하였고 추후 결제정보 같은 내용은 양방향 암호화를 추가할 예정입니다.

## 문제 해결
* post방식의 한글인코딩이 되지 않던 문제
  * ec2 ubuntu 서버에 배포한이후에 게시판의 파라미터 값이 DB에 물음표로 저장이 되는 문제가 발생 (2019-02-09)
  * 서버 캐릭터셋,DB 캐릭터셋,JAVA 캐릭터셋을 utf-8로 모두 변경하고 web.xml에 spring 인코딩 필터를 추가함으로써 해결
* @schedule 미작동 문제
  * 윈도우에서는 스케쥴 테스크가 정상 작동했으나 ec2에 war 파일 배포 후에 작동하지 않음 (2019-02-10)
  * 이 역시 DB 서버타임과 ubuntu locale 변경 , tomcat setenv.sh , catalina.sh 의 opts에 서버타임존을 추가하고 war 재배포로 해결
  * war파일을 배포할 당시에 세팅이 되어있지 않아서 생긴 문제 같습니다.
  * 하지만 task 특성 상 매일 정각에 작동하므로 하루가 지나고 알게 되었습니다.
  * war 파일 배포후 java 파일을 수정해도 적용이 되지않는 것을 늦게 알아차려서 문제해결에 시간이 약간 걸렸습니다.
  


